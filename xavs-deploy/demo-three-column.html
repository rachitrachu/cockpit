<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>xAVS Deployment - Demo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div class="page-wrap">
    <h1>xAVS Deployment</h1>

    <div class="grid three">
      <!-- LEFT: controls -->
      <div class="card controls-card">
        <header>Controls</header>
        <div class="body flex-col">
          <div class="flex-col">
            <div class="hdr">Action</div>
            <select class="btn" aria-label="xAVS command">
              <option value="bootstrap-servers" selected>bootstrap-servers</option>
              <option value="prechecks">prechecks</option>
              <option value="deploy">deploy</option>
            </select>
          </div>

          <div class="flex-col">
            <div class="hdr">Targets (optional)</div>
            <div class="services-grid">
              <span class="chip active" data-svc="keystone">keystone</span>
              <span class="chip" data-svc="glance">glance</span>
              <span class="chip active" data-svc="nova">nova</span>
              <span class="chip" data-svc="neutron">neutron</span>
            </div>
            <input class="btn ghost mono" placeholder="Other services (comma separated)">
          </div>

          <div class="flex-col">
            <div class="hdr">Hosts</div>
            <div class="brand-outline" style="padding: 8px; border: 1px solid var(--border); border-radius: 4px;">
              <label><input type="checkbox" class="bxc" checked> (all)</label><br>
              <label><input type="checkbox" class="bxc"> node-1</label><br>
              <label><input type="checkbox" class="bxc"> node-2</label>
            </div>
            <div class="hdr">Selected</div>
            <div><span class="pill">All hosts</span></div>
          </div>

          <div class="right">
            <button class="btn primary">Run</button>
          </div>
        </div>
      </div>

      <!-- MIDDLE: Deployment Progress -->
      <div class="card deployment-progress-card">
        <header>
          <div class="console-toolbar">
            <span>Deployment Progress</span>
            <button class="btn ghost small">Clear</button>
          </div>
        </header>
        <div class="body">
          <!-- Progress Section -->
          <div class="progress-section">
            <div class="playbook-progress">
              <div class="playbook-name">ðŸ“‹ OpenStack Bootstrap</div>
              <div class="playbook-status">Running...</div>
            </div>
            <div class="summary-stats">
              <div class="stat-item ok">âœ“ 12</div>
              <div class="stat-item changed">âš¡ 3</div>
              <div class="stat-item failed">âœ— 1</div>
              <div class="stat-item skipped">âŠ˜ 2</div>
              <div class="stat-item unreachable">âš  0</div>
            </div>
          </div>
          
          <!-- Task Progress -->
          <div class="tasks-container">
            <div class="tasks-header">
              <span>Task Progress</span>
              <span class="task-count">(18 tasks)</span>
            </div>
            <div class="tasks-list">
              <div class="task-item ok">
                <div class="task-header">
                  <span class="task-status">âœ“</span>
                  <span class="task-name">Gather facts</span>
                  <span class="task-host">node-1</span>
                  <span class="task-duration">(2.3s)</span>
                </div>
              </div>
              <div class="task-item changed">
                <div class="task-header">
                  <span class="task-status">âš¡</span>
                  <span class="task-name">Install packages</span>
                  <span class="task-host">node-1</span>
                  <span class="task-duration">(45.2s)</span>
                </div>
                <div class="task-msg">3 packages updated</div>
              </div>
              <div class="task-item failed">
                <div class="task-header">
                  <span class="task-status">âœ—</span>
                  <span class="task-name">Configure service</span>
                  <span class="task-host">node-2</span>
                  <span class="task-duration">(1.2s)</span>
                </div>
                <div class="task-msg">Connection refused: port 22</div>
              </div>
              <div class="task-item skipped">
                <div class="task-header">
                  <span class="task-status">âŠ˜</span>
                  <span class="task-name">Optional cleanup</span>
                  <span class="task-host">node-1</span>
                  <span class="task-duration"></span>
                </div>
                <div class="task-msg">Condition not met</div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- RIGHT: Raw Output -->
      <div class="card console-card">
        <header>Raw Output</header>
        <div class="body">
          <div class="scroll mono console-output">PLAY [Bootstrap OpenStack Services] ******************************************

TASK [Gather facts] **********************************************************
ok: [node-1]
ok: [node-2]

TASK [Install required packages] *********************************************
changed: [node-1] => {"changed": true, "msg": "3 packages updated"}
changed: [node-2] => {"changed": true, "msg": "2 packages updated"}

TASK [Configure database] ****************************************************
ok: [node-1]
failed: [node-2] => {"msg": "Connection refused: port 22", "unreachable": false}

TASK [Optional cleanup] ******************************************************
skipping: [node-1] => {"changed": false, "skip_reason": "Condition not met"}
skipping: [node-2] => {"changed": false, "skip_reason": "Condition not met"}

PLAY RECAP ********************************************************************
node-1                     : ok=3    changed=1    unreachable=0    failed=0    skipped=1   
node-2                     : ok=2    changed=1    unreachable=0    failed=1    skipped=1   
          </div>
        </div>
      </div>
    </div>
  </div>
</body>
</html>
